<!doctype html>
<meta charset=utf-8>

<link rel=stylesheet href=https://www.gitcdn.xyz/repo/milligram/milligram/master/dist/milligram.min.css>

<!-- Application content -->
<main>
  Please wait while loading…
</main>

<!-- External Dependencies -->
<script src=https://www.gitcdn.xyz/repo/riot/riot/master/riot+compiler.min.js></script>
<script src=https://www.gitcdn.xyz/repo/visionmedia/page.js/master/page.js></script>

<!-- Web-components -->
<script type=riot/tag src=./pages/home.tag.html></script>
<script type=riot/tag src=./pages/vote.tag.html></script>
<script type=riot/tag src=./components/x-item.tag.html></script>
<script type=riot/tag src=./components/x-title.tag.html></script>

<!-- Booting script -->
<script>
  // Declarations
  const app = document.querySelector('main')

  // Routes
  page('/', () => {
    app.innerHTML = '<page-home></page-home>'
    riot.mount('page-home')
  })
  page('/vote/:favorite?', (ctx) => {
    app.innerHTML = '<page-vote></page-vote>'
    riot.mount('page-vote', { favorite: ctx.params.favorite })
  })
  page('*', () => {
    app.innerHTML = 'Oops… the page does not exist!'
  })

  // Application is ready to load
  function init() {
    page({hashbang: true})
  }
  init()
</script>
